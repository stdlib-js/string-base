// Copyright (c) 2022 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./mod.d.ts" />
var e="function"==typeof Object.defineProperty?Object.defineProperty:null;var r=function(){try{return e({},"x",{}),!0}catch(e){return!1}},i=Object.defineProperty,t=Object.prototype,a=t.toString,n=t.__defineGetter__,o=t.__defineSetter__,c=t.__lookupGetter__,s=t.__lookupSetter__;var p,l,u,f,g,d,h,w,b,v,m,y,_,k,x,E,S,j,V,$,I=i,F=function(e,r,i){var p,l,u,f;if("object"!=typeof e||null===e||"[object Array]"===a.call(e))throw new TypeError("invalid argument. First argument must be an object. Value: `"+e+"`.");if("object"!=typeof i||null===i||"[object Array]"===a.call(i))throw new TypeError("invalid argument. Property descriptor must be an object. Value: `"+i+"`.");if((l="value"in i)&&(c.call(e,r)||s.call(e,r)?(p=e.__proto__,e.__proto__=t,delete e[r],e[r]=i.value,e.__proto__=p):e[r]=i.value),u="get"in i,f="set"in i,l&&(u||f))throw new Error("invalid argument. Cannot specify one or more accessors and a value or writable attribute in the property descriptor.");return u&&n&&n.call(e,r,i.get),f&&o&&o.call(e,r,i.set),e},T=r()?I:F;function A(){if(l)return p;return l=1,p=function(e){return"number"==typeof e}}function C(){if(f)return u;function e(e){var r,i="";for(r=0;r<e;r++)i+="0";return i}return f=1,u=function(r,i,t){var a=!1,n=i-r.length;return n<0||(function(e){return"-"===e[0]}(r)&&(a=!0,r=r.substr(1)),r=t?r+e(n):e(n)+r,a&&(r="-"+r)),r}}function R(){if(k)return _;k=1;var e=function(){if(d)return g;d=1;var e=A(),r=C(),i=String.prototype.toLowerCase,t=String.prototype.toUpperCase;return g=function(a){var n,o,c;switch(a.specifier){case"b":n=2;break;case"o":n=8;break;case"x":case"X":n=16;break;default:n=10}if(o=a.arg,c=parseInt(o,10),!isFinite(c)){if(!e(o))throw new Error("invalid integer. Value: "+o);c=0}return c<0&&("u"===a.specifier||10!==n)&&(c=4294967295+c+1),c<0?(o=(-c).toString(n),a.precision&&(o=r(o,a.precision,a.padRight)),o="-"+o):(o=c.toString(n),c||a.precision?a.precision&&(o=r(o,a.precision,a.padRight)):o="",a.sign&&(o=a.sign+o)),16===n&&(a.alternate&&(o="0x"+o),o=a.specifier===t.call(a.specifier)?t.call(o):i.call(o)),8===n&&a.alternate&&"0"!==o.charAt(0)&&(o="0"+o),o}}(),r=w?h:(w=1,h=function(e){return"string"==typeof e}),i=function(){if(v)return b;v=1;var e=A(),r=Math.abs,i=String.prototype.toLowerCase,t=String.prototype.toUpperCase,a=String.prototype.replace,n=/e\+(\d)$/,o=/e-(\d)$/,c=/^(\d+)$/,s=/^(\d+)e/,p=/\.0$/,l=/\.0*e/,u=/(\..*[^0])0*e/;return b=function(f){var g,d,h=parseFloat(f.arg);if(!isFinite(h)){if(!e(f.arg))throw new Error("invalid floating-point number. Value: "+d);h=f.arg}switch(f.specifier){case"e":case"E":d=h.toExponential(f.precision);break;case"f":case"F":d=h.toFixed(f.precision);break;case"g":case"G":r(h)<1e-4?((g=f.precision)>0&&(g-=1),d=h.toExponential(g)):d=h.toPrecision(f.precision),f.alternate||(d=a.call(d,u,"$1e"),d=a.call(d,l,"e"),d=a.call(d,p,""));break;default:throw new Error("invalid double notation. Value: "+f.specifier)}return d=a.call(d,n,"e+0$1"),d=a.call(d,o,"e-0$1"),f.alternate&&(d=a.call(d,c,"$1."),d=a.call(d,s,"$1.e")),h>=0&&f.sign&&(d=f.sign+d),f.specifier===t.call(f.specifier)?t.call(d):i.call(d)}}(),t=function(){if(y)return m;function e(e){var r,i="";for(r=0;r<e;r++)i+=" ";return i}return y=1,m=function(r,i,t){var a=i-r.length;return a<0?r:r=t?r+e(a):e(a)+r}}(),a=C(),n=String.fromCharCode,o=isNaN,c=Array.isArray;function s(e){var r={};return r.specifier=e.specifier,r.precision=void 0===e.precision?1:e.precision,r.width=e.width,r.flags=e.flags||"",r.mapping=e.mapping,r}return _=function(p){var l,u,f,g,d,h,w,b,v;if(!c(p))throw new TypeError("invalid argument. First argument must be an array. Value: `"+p+"`.");for(h="",w=1,b=0;b<p.length;b++)if(f=p[b],r(f))h+=f;else{if(l=void 0!==f.precision,!(f=s(f)).specifier)throw new TypeError("invalid argument. Token is missing `specifier` property. Index: `"+b+"`. Value: `"+f+"`.");for(f.mapping&&(w=f.mapping),u=f.flags,v=0;v<u.length;v++)switch(g=u.charAt(v)){case" ":f.sign=" ";break;case"+":f.sign="+";break;case"-":f.padRight=!0,f.padZeros=!1;break;case"0":f.padZeros=u.indexOf("-")<0;break;case"#":f.alternate=!0;break;default:throw new Error("invalid flag: "+g)}if("*"===f.width){if(f.width=parseInt(arguments[w],10),w+=1,o(f.width))throw new TypeError("the argument for * width at position "+w+" is not a number. Value: `"+f.width+"`.");f.width<0&&(f.padRight=!0,f.width=-f.width)}if(l&&"*"===f.precision){if(f.precision=parseInt(arguments[w],10),w+=1,o(f.precision))throw new TypeError("the argument for * precision at position "+w+" is not a number. Value: `"+f.precision+"`.");f.precision<0&&(f.precision=1,l=!1)}switch(f.arg=arguments[w],f.specifier){case"b":case"o":case"x":case"X":case"d":case"i":case"u":l&&(f.padZeros=!1),f.arg=e(f);break;case"s":f.maxWidth=l?f.precision:-1;break;case"c":if(!o(f.arg)){if((d=parseInt(f.arg,10))<0||d>127)throw new Error("invalid character code. Value: "+f.arg);f.arg=o(d)?String(f.arg):n(d)}break;case"e":case"E":case"f":case"F":case"g":case"G":l||(f.precision=6),f.arg=i(f);break;default:throw new Error("invalid specifier: "+f.specifier)}f.maxWidth>=0&&f.arg.length>f.maxWidth&&(f.arg=f.arg.substring(0,f.maxWidth)),f.padZeros?f.arg=a(f.arg,f.width||f.precision,f.padRight):f.width&&(f.arg=t(f.arg,f.width,f.padRight)),h+=f.arg||"",w+=1}return h},_}var O=function(e,r,i){T(e,r,{configurable:!1,enumerable:!0,writable:!1,value:i})},P={};O(P,"formatInterpolate",function(){if(E)return x;E=1;var e=R();return x=e}()),O(P,"formatTokenize",function(){if($)return V;$=1;var e=function(){if(j)return S;j=1;var e=/%(?:([1-9]\d*)\$)?([0 +\-#]*)(\*|\d+)?(?:(\.)(\*|\d+)?)?[hlL]?([%A-Za-z])/g;function r(e){var r={mapping:e[1]?parseInt(e[1],10):void 0,flags:e[2],width:e[3],precision:e[5],specifier:e[6]};return"."===e[4]&&void 0===e[5]&&(r.precision="1"),r}return S=function(i){var t,a,n,o;for(a=[],o=0,n=e.exec(i);n;)(t=i.slice(o,e.lastIndex-n[0].length)).length&&a.push(t),a.push(r(n)),o=e.lastIndex,n=e.exec(i);return(t=i.slice(o)).length&&a.push(t),a}}();return V=e}());var Z=P;export{Z as default};
//# sourceMappingURL=mod.js.map
